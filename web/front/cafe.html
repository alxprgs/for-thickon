<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cafe Dolce Goose</title>
    <link rel="icon" href="/static/image/photo_2025-01-04_15-52-31.jpg" type="image/png">
    <link rel="stylesheet" href="/static/cafe.css">
</head>
<body>
    <script src="/static/js/loadHeader.js"></script>
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Регистрация</h2>
                <span class="modal-close" onclick="closeModal('registerModal')">&times;</span>
            </div>
            <input type="tel" id="regPhone" placeholder="Номер телефона">
            <input type="password" id="regPassword" placeholder="Пароль">
            <input type="password" id="regRepeatPassword" placeholder="Повторите пароль">
            <button onclick="register()">Зарегистрироваться</button>
        </div>
    </div>
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Корзина</h2>
                <span class="modal-close" onclick="closeModal('cartModal')">&times;</span>
            </div>
            <div id="cartItems"></div>
            <p>Общая сумма: <span id="cartTotal">0</span>₽</p>
            <button onclick="createOrder()">Оформить заказ</button>
        </div>
    </div>

    <aside class="navbar">
        <img src="/static/image/photo_2025-01-04_15-52-31.jpg" alt="Лого">
        <ul>
            <li><a href="#home">Главная</a></li>
            <li><a href="/review">Отзывы</a></li>
            <li><a href="/menu">Меню</a></li>
            <li><a href="/onas">О нас</a></li>
        </ul>
    </aside>

    <div class="content">
        <section id="home">
            <h4>Главная</h4>
            <h4>Добро пожаловать в наше уютное кафе, еда со всего мира</h4>
        </section>

        <section id="menu">
            <h4>Блюда</h4>
            <div class="card-container">
                <div class="card" onclick="showDetails('Лобстер на гриле', 'Свежий лобстер, приготовленный на гриле, с легкой приправой и ароматными травами. Время приготовления: 20 минут. Подается с гарниром из запеченных овощей и сливочным соусом. Отличный выбор для любителей морепродуктов.', 1899)">
                    <img src="/static/image/lobster.jpg" alt="Лобстер">
                    <p>Лобстер на гриле<br>1200₽</p>
                </div>
                <div class="card" onclick="showDetails('Лосось на гриле', 'Сочный лосось, приготовленный на гриле, с медово-горчичным соусом и свежими зеленью. Время приготовления: 15 минут. Идеален для здорового питания и поклонников рыбы.', 1599)">
                    <img src="/static/image/losos.jpg" alt="Лосось">
                    <p>Лосось на гриле<br>550₽</p>
                </div>
                <div class="card" onclick="showDetails('Чизкейк', 'Нежный чизкейк с ванильным кремом и фруктами. Тонкая текстура, идеально сбалансированный вкус. Время приготовления: 10 минут. Сладкое наслаждение для ценителей десертов.', 499)">
                    <img src="/static/image/chesscake.jpg" alt="Чизкейк">
                    <p>Чизкейк<br>499₽</p>
                </div>
                <div class="card" onclick="showDetails('Салат Цезарь', 'Классический салат с курицей, листьями свежего салата, помидорами и пармезаном. Время приготовления: 10 минут. Идеальный вариант для легкого обеда или ужина.', 699)">
                    <img src="/static/image/salatcesar.jpg" alt="Салат Цезарь">
                    <p>Салат Цезарь<br>350₽</p>
                </div>
            </div>
        </section>
        
        <section id="drinks">
            <h4>Напитки</h4>
            <div class="card-container">
                <div class="card" onclick="showDetails('Кофе капучино', 'Классический капучино с нежной пенкой из молока и эспрессо. Идеально для утреннего пробуждения или небольшого перерыва. Время приготовления: 5 минут.', 299)">
                    <img src="/static/image/cappuchino.jpg" alt="Капучино">
                    <p>Кофе капучино<br>299₽</p>
                </div>
                <div class="card" onclick="showDetails('Чай зелёный', 'Свежезаваренный зелёный чай с ароматом жасмина и трав. Легкий и утоляющий жажду. Время приготовления: 3 минуты.', 199)">
                    <img src="/static/image/zelenychai.jpg" alt="Чай">
                    <p>Чай зелёный<br>199₽</p>
                </div>
                <div class="card" onclick="showDetails('Американо', 'Классический чёрный кофе с мягким вкусом и богатым ароматом. Время приготовления: 5 минут. Отличный выбор для любителей крепкого кофе.', 199)">
                    <img src="/static/image/image1_0.jpg" alt="Американо">
                    <p>Американо<br>199₽</p>
                </div>
                <div class="card" onclick="showDetails('Морс ягодный', 'Свежий ягодный морс с добавлением натурального меда. Натуральный вкус и витаминная поддержка. Время приготовления: 3 минуты.', 149)">
                    <img src="/static/image/sok.jpg" alt="Морс">
                    <p>Морс ягодный<br>149₽</p>
                </div>
            </div>
        </section>
        
        

    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Вход</h2>
                <span class="modal-close" onclick="closeModal('loginModal')">&times;</span>
            </div>
            <input type="text" id="loginUsername" placeholder="Логин">
            <input type="password" id="loginPassword" placeholder="Пароль">
            <button onclick="login()">Войти</button>
        </div>
    </div>

    <div id="detailsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="detailsTitle">Детали</h2>
                <span class="modal-close" onclick="closeModal('detailsModal')">&times;</span>
            </div>
            <p id="detailsDescription">Описание блюда</p>
            <p id="detailsPrice">Цена: 0₽</p>
            <button class="order-button" onclick="orderItem()">Добавить в корзину</button>
        </div>
    </div>
    
    <script src="/static/js/checkAuth.js"></script>
    <script src="/static/js/createOrder.js"></script>
    <script src="/static/js/getCSRFToken.js"></script>
    <script src="/static/js/login.js"></script>
    <script src="/static/js/modal.js"></script>
    <script src="/static/js/openCart.js"></script>
    <script src="/static/js/orderItem.js"></script>
    <script src="/static/js/register.js"></script>
    <script src="/static/js/removeItem.js"></script>
    <script src="/static/js/showDetails.js"></script>
    <script src="/static/js/updateCartCounter.js"></script>
    <script src="/static/js/updateQuantity.js"></script>
    <script>
        window.onload = async () => {
            const authStatus = await checkAuth();
            if(!authStatus.status) {
                document.getElementById('loginModal').style.display = 'flex';
            }
            await updateCartCounter();
        };
    </script>
</body>
</html>